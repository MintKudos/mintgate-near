<!-- AUTOGENERATED doc, do not modify! 2021-04-07 09:54:13.371349 UTC -->
# Contract

This module implements the NFT contract for the MintGate marketplace.
The MintGate marketplace consists of two main entities:

- `Collectible`s
- `Token`s

A `Collectible` represents a content that a creator wants to tokenize.
A `Token` represents a copy of a given `Collectible.

In addition, this contract implements the following NFT standards:

- Non-Fungible Token NEP-171
<https://github.com/near/NEPs/blob/master/specs/Standards/NonFungibleToken/Core.md>
- Non-Fungible Token Metadata NEP-177
<https://github.com/near/NEPs/blob/master/specs/Standards/NonFungibleToken/Metadata.md>
- Non-Fungible Token Approval Management NEP-178
<https://github.com/near/NEPs/blob/master/specs/Standards/NonFungibleToken/ApprovalManagement.md>
- Non-Fungible Token Enumeration NEP-181
<https://github.com/near/NEPs/blob/master/specs/Standards/NonFungibleToken/Enumeration.md>

## Methods for Contract

### :bricks: `init` (*constructor*)

```typescript
init(admin_id: ValidAccountId, metadata: ContractMetadata, min_royalty: Fraction, max_royalty: Fraction)
```

Initializes the contract.
This contract methods needs to be explicitely called
since the default construction of the contract will panic.

- `admin_id` is the valid account that is allowed to perform certain operations.
- `metadata` represents the general information of the contract.
- `min_royalty` and `max_royalty` indicates what must be the max and min royalty respectively when creating a collectible.

### :writing_hand: `create_collectible`

```typescript
create_collectible(gate_id: String, title: String, description: String, supply: U64, gate_url: String, royalty: Fraction)
```

Creates a new `Collectible`, identified by `gate_id`.
The `supply` indicates maximum supply for this collectible.
The `royalty` indicates the royalty (as percentage) paid to the creator (`predecessor_account_id`).
This royalty is paid when any `Token` is being resold in any marketplace.

### :eyeglasses: `get_collectible_by_gate_id`

```typescript
get_collectible_by_gate_id(gate_id: String)
```

Returns the `Collectible` with the given `gate_id`.
Panics otherwise.

### :eyeglasses: `get_collectibles_by_creator`

```typescript
get_collectibles_by_creator(creator_id: ValidAccountId)
```

Returns all `Collectible`s created by `creator_id`.

### :writing_hand: `claim_token`

```typescript
claim_token(gate_id: String)
```

Claims a `Token` for the `Collectible` indicated by `gate_id`.
The claim is on behalf the `predecessor_account_id`.
Returns a `TokenId` that represents this claim.
If the given `gate_id` has exhausted its supply, this call will panic.

### :eyeglasses: `get_tokens_by_owner`

```typescript
get_tokens_by_owner(owner_id: ValidAccountId)
```

Returns all `Token`s owned by `owner_id`.

### :eyeglasses: `get_tokens_by_owner_and_gate_id`

```typescript
get_tokens_by_owner_and_gate_id(gate_id: GateId, owner_id: ValidAccountId)
```

Returns all tokens claimed by `owner_id` belonging to `gate_id`.

## Methods for `NonFungibleTokenCore` interface

### :eyeglasses: `nft_metadata`

```typescript
nft_metadata()
```

Returns the NFT metadata for this contract.

### :writing_hand: `nft_transfer`

```typescript
nft_transfer(receiver_id: ValidAccountId, token_id: TokenId, enforce_approval_id: Option, memo: Option)
```

Transfer the token `token_id` to the `receiver_id` account.

### :eyeglasses: `nft_total_supply`

```typescript
nft_total_supply()
```

Returns the total token supply.

### :eyeglasses: `nft_token`

```typescript
nft_token(token_id: TokenId)
```

Returns the token identified by `token_id`.
Or `null` if the `token_id` was not found.

## Methods for `NonFungibleTokenApprovalMgmt` interface

### :writing_hand: `nft_approve`

```typescript
nft_approve(token_id: TokenId, account_id: ValidAccountId, msg: Option)
```

Allows `account_id` to transfer `token_id` on behalf of its owner.
The `msg` argument allows the caller to pass into additional information.
A contract implementing the `nft_on_approve` methods must be
deployed into `account_id`.

### :writing_hand: `nft_revoke`

```typescript
nft_revoke(token_id: TokenId, account_id: ValidAccountId)
```

Revokes approval for `token_id` from `account_id`.

### :writing_hand: `nft_revoke_all`

```typescript
nft_revoke_all(token_id: TokenId)
```

Revokes all approval for `token_id`.
